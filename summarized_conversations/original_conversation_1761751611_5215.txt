{'role': 'assistant', 'content': 'Let\'s create the budget routes:\n\n<function_calls>\n<create-file file_path="src/routes/budget.routes.js">\nconst express = require(\'express\');\nconst router = express.Router();\n\n// Controllers\nconst budgetController = require(\'../controllers/budget/budgetController\');\nconst budgetMonitoringController = require(\'../controllers/budget/budgetMonitoringController\');\n\n// Middleware\nconst authMiddleware = require(\'../middleware/auth.middleware\');\nconst { financeManagerOnly, adminOnly, auditorOnly } = require(\'../middleware/authorization.middleware\');\nconst validate = require(\'../middleware/validation.middleware\');\nconst tenantIsolation = require(\'../middleware/tenantIsolation.middleware\');\nconst auditLog = require(\'../middleware/auditLog.middleware\');\n\n// Validators\nconst {\n  createBudgetValidator,\n  updateBudgetValidator,\n  getBudgetsValidator,\n  getBudgetByIdValidator,\n  submitBudgetValidator,\n  approveBudgetValidator,\n  activateBudgetValidator,\n  closeBudgetValidator\n} = require(\'../utils/validators/budgetValidator\');\n\n// Budget Routes\nrouter.post(\n  \'/budgets\',\n  authMiddleware,\n  financeManagerOnly,\n  tenantIsolation,\n  createBudgetValidator,\n  validate,\n  auditLog(\'CREATE\', \'Budget\', \'Budget\'),\n  budgetController.createBudget\n);\n\nrouter.get(\n  \'/budgets\',\n  authMiddleware,\n  auditorOnly,\n  tenantIsolation,\n  getBudgetsValidator,\n  validate,\n  auditLog(\'READ\', \'Budget\', \'Budget\'),\n  budgetController.getBudgets\n);\n\nrouter.get(\n  \'/budgets/:budgetId\',\n  authMiddleware,\n  auditorOnly,\n  tenantIsolation,\n  getBudgetByIdValidator,\n  validate,\n  auditLog(\'READ\', \'Budget\', \'Budget\'),\n  budgetController.getBudgetById\n);\n\nrouter.put(\n  \'/budgets/:budgetId\',\n  authMiddleware,\n  financeManagerOnly,\n  tenantIsolation,\n  updateBudgetValidator,\n  validate,\n  auditLog(\'UPDATE\', \'Budget\', \'Budget\'),\n  budgetController.updateBudget\n);\n\nrouter.post(\n  \'/budgets/:budgetId/submit\',\n  authMiddleware,\n  financeManagerOnly,\n  tenantIsolation,\n  submitBudgetValidator,\n  validate,\n  auditLog(\'UPDATE\', \'Budget\', \'Budget\'),\n  budgetController.submitBudget\n);\n\nrouter.post(\n  \'/budgets/:budgetId/approve\',\n  authMiddleware,\n  adminOnly,\n  tenantIsolation,\n  approveBudgetValidator,\n  validate,\n  auditLog(\'UPDATE\', \'Budget\', \'Budget\'),\n  budgetController.approveBudget\n);\n\nrouter.post(\n  \'/budgets/:budgetId/activate\',\n  authMiddleware,\n  financeManagerOnly,\n  tenantIsolation,\n  activateBudgetValidator,\n  validate,\n  auditLog(\'UPDATE\', \'Budget\', \'Budget\'),\n  budgetController.activateBudget\n);\n\nrouter.post(\n  \'/budgets/:budgetId/close\',\n  authMiddleware,\n  financeManagerOnly,\n  tenantIsolation,\n  closeBudgetValidator,\n  validate,\n  auditLog(\'UPDATE\', \'Budget\', \'Budget\'),\n  budgetController.closeBudget\n);\n\n// Budget Monitoring Routes\nrouter.get(\n  \'/budgets/:budgetId/actuals\',\n  authMiddleware,\n  auditorOnly,\n  tenantIsolation,\n  auditLog(\'READ\', \'Budget\', \'BudgetActuals\'),\n  budgetMonitoringController.getBudgetVsActuals\n);\n\nrouter.get(\n  \'/budgets/:budgetId/quarterly-utilization\',\n  authMiddleware,\n  auditorOnly,\n  tenantIsolation,\n  auditLog(\'READ\', \'Budget\', \'QuarterlyUtilization\'),\n  budgetMonitoringController.getQuarterlyUtilization\n);\n\nrouter.get(\n  \'/budgets/:budgetId/summary\',\n  authMiddleware,\n  auditorOnly,\n  tenantIsolation,\n  auditLog(\'READ\', \'Budget\', \'BudgetSummary\'),\n  budgetMonitoringController.getBudgetSummary\n);\n\nrouter.post(\n  \'/budgets/:budgetId/alerts\',\n  authMiddleware,\n  financeManagerOnly,\n  tenantIsolation,\n  auditLog(\'CREATE\', \'Budget\', \'BudgetAlert\'),\n  budgetMonitoringController.createBudgetAlert\n);\n\nrouter.get(\n  \'/budgets/:budgetId/alerts\',\n  authMiddleware,\n  financeManagerOnly,\n  tenantIsolation,\n  auditLog(\'READ\', \'Budget\', \'BudgetAlert\'),\n  budgetMonitoringController.getBudgetAlerts\n);\n\nrouter.put(\n  \'/budgets/alerts/:alertId\',\n  authMiddleware,\n  financeManagerOnly,\n  tenantIsolation,\n  auditLog(\'UPDATE\', \'Budget\', \'BudgetAlert\'),\n  budgetMonitoringController.updateBudgetAlert\n);\n\nrouter.delete(\n  \'/budgets/alerts/:alertId\',\n  authMiddleware,\n  financeManagerOnly,\n  tenantIsolation,\n  auditLog(\'DELETE\', \'Budget\', \'BudgetAlert\'...\n The full message content is stored at /workspace/summarized_conversations/original_conversation_1761751423_9472.txt'}