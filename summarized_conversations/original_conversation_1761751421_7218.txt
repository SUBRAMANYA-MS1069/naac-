{'role': 'assistant', 'content': 'Let\'s create the management reports controller:\n\n<function_calls>\n<create-file file_path="src/controllers/reports/managementReportsController.js">\nconst { successResponse, errorResponse } = require(\'../../utils/helpers/responseHelper\');\n\n/**\n * Get budget vs actual report\n * @route GET /api/v1/finance/reports/budget-vs-actual\n * @access Private (Finance Manager, Management)\n */\nconst getBudgetVsActualReport = async (req, res, next) => {\n  try {\n    // In a real implementation, you would fetch budget vs actual report from a service\n    // For now, we\'ll return placeholder data\n    const report = {\n      financialYear: \'2023-24\',\n      budgetedAmount: 1000000,\n      actualAmount: 950000,\n      variance: -50000,\n      variancePercentage: -5\n    };\n    \n    res.json(successResponse(report, \'Budget vs actual report retrieved successfully\'));\n  } catch (error) {\n    next(error);\n  }\n};\n\n/**\n * Get expense analysis report\n * @route GET /api/v1/finance/reports/expense-analysis\n * @access Private (Finance Manager, Management)\n */\nconst getExpenseAnalysisReport = async (req, res, next) => {\n  try {\n    // In a real implementation, you would fetch expense analysis report from a service\n    // For now, we\'ll return placeholder data\n    const report = {\n      period: {\n        startDate: new Date(new Date().getFullYear(), 0, 1),\n        endDate: new Date()\n      },\n      totalExpenses: 500000,\n      expenseCategories: [\n        {\n          category: \'Salaries\',\n          amount: 300000,\n          percentage: 60\n        },\n        {\n          category: \'Utilities\',\n          amount: 50000,\n          percentage: 10\n        }\n      ]\n    };\n    \n    res.json(successResponse(report, \'Expense analysis report retrieved successfully\'));\n  } catch (error) {\n    next(error);\n  }\n};\n\n/**\n * Get revenue analysis report\n * @route GET /api/v1/finance/reports/revenue-analysis\n * @access Private (Finance Manager, Management)\n */\nconst getRevenueAnalysisReport = async (req, res, next) => {\n  try {\n    // In a real implementation, you would fetch revenue analysis report from a service\n    // For now, we\'ll return placeholder data\n    const report = {\n      period: {\n        startDate: new Date(new Date().getFullYear(), 0, 1),\n        endDate: new Date()\n      },\n      totalRevenue: 1000000,\n      revenueSources: [\n        {\n          source: \'Tuition Fees\',\n          amount: 800000,\n          percentage: 80\n        },\n        {\n          source: \'Donations\',\n          amount: 200000,\n          percentage: 20\n        }\n      ]\n    };\n    \n    res.json(successResponse(report, \'Revenue analysis report retrieved successfully\'));\n  } catch (error) {\n    next(error);\n  }\n};\n\n/**\n * Get financial ratios report\n * @route GET /api/v1/finance/reports/financial-ratios\n * @access Private (Finance Manager, Management)\n */\nconst getFinancialRatiosReport = async (req, res, next) => {\n  try {\n    // In a real implementation, you would fetch financial ratios report from a service\n    // For now, we\'ll return placeholder data\n    const report = {\n      asOfDate: new Date(),\n      liquidityRatios: {\n        currentRatio: 2.5,\n        quickRatio: 1.8\n      },\n      profitabilityRatios: {\n        grossProfitMargin: 40,\n        netProfitMargin: 20\n      }\n    };\n    \n    res.json(successResponse(report, \'Financial ratios report retrieved successfully\'));\n  } catch (error) {\n    next(error);\n  }\n};\n\n/**\n * Export management report\n * @route GET /api/v1/finance/reports/management-export\n * @access Private (Finance Manager, Management)\n */\nconst exportManagementReport = async (req, res, next) => {\n  try {\n    // In a real implementation, you would export management report from a service\n    // For now, we\'ll return placeholder data\n    const exportResult = {\n      downloadUrl: \'https://example.com/management-report.pdf\',\n      format: req.query.format || \'pdf\'\n    };\n    \n    res.json(successResponse(exportResult, \'Management report export initiated successfully\'));\n  } catch (error) {\n    next(error);\n  }\n};\n\nmodule.exports = {\n  getBudgetVsActualReport,\n  getExpenseAnalysi...\n The full message content is stored at /workspace/summarized_conversations/original_conversation_1761751247_1800.txt'}