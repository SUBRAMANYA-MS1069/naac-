{'role': 'assistant', 'content': 'Let\'s create the fees routes:\n\n<function_calls>\n<create-file file_path="src/routes/fees.routes.js">\nconst express = require(\'express\');\nconst router = express.Router();\n\n// Controllers\nconst feeStructureController = require(\'../controllers/fees/feeStructureController\');\nconst feeCollectionController = require(\'../controllers/fees/feeCollectionController\');\nconst scholarshipController = require(\'../controllers/fees/scholarshipController\');\n\n// Middleware\nconst authMiddleware = require(\'../middleware/auth.middleware\');\nconst { financeManagerOnly, accountantOnly, studentOnly } = require(\'../middleware/authorization.middleware\');\nconst validate = require(\'../middleware/validation.middleware\');\nconst tenantIsolation = require(\'../middleware/tenantIsolation.middleware\');\nconst auditLog = require(\'../middleware/auditLog.middleware\');\n\n// Validators\nconst {\n  createFeeStructureValidator,\n  updateFeeStructureValidator,\n  getFeeStructuresValidator,\n  getFeeStructureByIdValidator\n} = require(\'../utils/validators/feeValidator\');\n\nconst {\n  generateFeeInvoiceValidator,\n  getStudentInvoicesValidator,\n  getInvoiceByIdValidator,\n  updateInvoiceValidator\n} = require(\'../utils/validators/feeValidator\');\n\n// Fee Structure Routes\nrouter.post(\n  \'/structures\',\n  authMiddleware,\n  financeManagerOnly,\n  tenantIsolation,\n  createFeeStructureValidator,\n  validate,\n  auditLog(\'CREATE\', \'Fees\', \'FeeStructure\'),\n  feeStructureController.createFeeStructure\n);\n\nrouter.get(\n  \'/structures\',\n  authMiddleware,\n  accountantOnly,\n  tenantIsolation,\n  getFeeStructuresValidator,\n  validate,\n  auditLog(\'READ\', \'Fees\', \'FeeStructure\'),\n  feeStructureController.getFeeStructures\n);\n\nrouter.get(\n  \'/structures/:structureId\',\n  authMiddleware,\n  accountantOnly,\n  tenantIsolation,\n  getFeeStructureByIdValidator,\n  validate,\n  auditLog(\'READ\', \'Fees\', \'FeeStructure\'),\n  feeStructureController.getFeeStructureById\n);\n\nrouter.put(\n  \'/structures/:structureId\',\n  authMiddleware,\n  financeManagerOnly,\n  tenantIsolation,\n  updateFeeStructureValidator,\n  validate,\n  auditLog(\'UPDATE\', \'Fees\', \'FeeStructure\'),\n  feeStructureController.updateFeeStructure\n);\n\nrouter.delete(\n  \'/structures/:structureId\',\n  authMiddleware,\n  financeManagerOnly,\n  tenantIsolation,\n  auditLog(\'DELETE\', \'Fees\', \'FeeStructure\'),\n  feeStructureController.deleteFeeStructure\n);\n\n// Fee Collection Routes\nrouter.post(\n  \'/invoices\',\n  authMiddleware,\n  financeManagerOnly,\n  tenantIsolation,\n  generateFeeInvoiceValidator,\n  validate,\n  auditLog(\'CREATE\', \'Fees\', \'FeeInvoice\'),\n  feeCollectionController.generateInvoice\n);\n\nrouter.get(\n  \'/invoices\',\n  authMiddleware,\n  accountantOnly,\n  tenantIsolation,\n  auditLog(\'READ\', \'Fees\', \'FeeInvoice\'),\n  feeCollectionController.getInvoices\n);\n\nrouter.get(\n  \'/invoices/:invoiceId\',\n  authMiddleware,\n  accountantOnly,\n  tenantIsolation,\n  getInvoiceByIdValidator,\n  validate,\n  auditLog(\'READ\', \'Fees\', \'FeeInvoice\'),\n  feeCollectionController.getInvoiceById\n);\n\nrouter.put(\n  \'/invoices/:invoiceId\',\n  authMiddleware,\n  financeManagerOnly,\n  tenantIsolation,\n  updateInvoiceValidator,\n  validate,\n  auditLog(\'UPDATE\', \'Fees\', \'FeeInvoice\'),\n  feeCollectionController.updateInvoice\n);\n\nrouter.post(\n  \'/payments\',\n  authMiddleware,\n  financeManagerOnly,\n  tenantIsolation,\n  auditLog(\'CREATE\', \'Fees\', \'FeePayment\'),\n  feeCollectionController.recordPayment\n);\n\nrouter.get(\n  \'/payments\',\n  authMiddleware,\n  financeManagerOnly,\n  tenantIsolation,\n  auditLog(\'READ\', \'Fees\', \'FeePayment\'),\n  feeCollectionController.getPayments\n);\n\nrouter.get(\n  \'/payments/:paymentId\',\n  authMiddleware,\n  financeManagerOnly,\n  tenantIsolation,\n  auditLog(\'READ\', \'Fees\', \'FeePayment\'),\n  feeCollectionController.getPaymentById\n);\n\n// Scholarship Routes\nrouter.post(\n  \'/scholarships\',\n  authMiddleware,\n  financeManagerOnly,\n  tenantIsolation,\n  auditLog(\'CREATE\', \'Fees\', \'Scholarship\'),\n  scholarshipController.createScholarship\n);\n\nrouter.get(\n  \'/scholarships\',\n  authMiddleware,\n  financeManagerOnly,\n  tenantIsolation,\n  auditLog(\'READ\', \'Fees\', \'Scholarship\'),\n  scholarshipController.getScholarsh...\n The full message content is stored at /workspace/summarized_conversations/original_conversation_1761752395_3228.txt'}