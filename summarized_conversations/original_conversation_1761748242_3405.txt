{'role': 'assistant', 'content': '<function_calls>\n<create-file file_path="src/utils/validators/budgetValidator.js">\nconst { body, query, param } = require(\'express-validator\');\n\nconst createBudgetValidator = [\n  body(\'budgetName\')\n    .notEmpty()\n    .withMessage(\'Budget name is required\')\n    .isLength({ max: 100 })\n    .withMessage(\'Budget name must be less than 100 characters\'),\n  \n  body(\'financialYear\')\n    .notEmpty()\n    .withMessage(\'Financial year is required\')\n    .isLength({ max: 10 })\n    .withMessage(\'Financial year must be less than 10 characters\'),\n  \n  body(\'budgetType\')\n    .notEmpty()\n    .withMessage(\'Budget type is required\')\n    .isIn([\'Annual\', \'Quarterly\', \'Project\', \'Department\'])\n    .withMessage(\'Invalid budget type\'),\n  \n  body(\'startDate\')\n    .notEmpty()\n    .withMessage(\'Start date is required\')\n    .isISO8601()\n    .withMessage(\'Invalid date format\'),\n  \n  body(\'endDate\')\n    .notEmpty()\n    .withMessage(\'End date is required\')\n    .isISO8601()\n    .withMessage(\'Invalid date format\'),\n  \n  body(\'budgetLines\')\n    .isArray({ min: 1 })\n    .withMessage(\'At least one budget line is required\'),\n  \n  body(\'budgetLines.*.accountId\')\n    .notEmpty()\n    .withMessage(\'Account ID is required for budget lines\'),\n  \n  body(\'budgetLines.*.accountName\')\n    .notEmpty()\n    .withMessage(\'Account name is required for budget lines\'),\n  \n  body(\'budgetLines.*.budgetCategory\')\n    .notEmpty()\n    .withMessage(\'Budget category is required for budget lines\')\n    .isIn([\'Income\', \'Expense\'])\n    .withMessage(\'Invalid budget category\'),\n  \n  body(\'budgetLines.*.quarters\')\n    .isArray({ min: 1 })\n    .withMessage(\'At least one quarter is required for budget lines\'),\n  \n  body(\'budgetLines.*.quarters.*.quarter\')\n    .isInt({ min: 1, max: 4 })\n    .withMessage(\'Quarter must be between 1 and 4\'),\n  \n  body(\'budgetLines.*.quarters.*.amount\')\n    .isNumeric()\n    .withMessage(\'Quarter amount must be a number\'),\n  \n  body(\'budgetLines.*.totalBudget\')\n    .isNumeric()\n    .withMessage(\'Total budget must be a number\'),\n  \n  body(\'totalIncome\')\n    .optional()\n    .isNumeric()\n    .withMessage(\'Total income must be a number\'),\n  \n  body(\'totalExpense\')\n    .optional()\n    .isNumeric()\n    .withMessage(\'Total expense must be a number\'),\n  \n  body(\'netBudget\')\n    .optional()\n    .isNumeric()\n    .withMessage(\'Net budget must be a number\')\n];\n\nconst updateBudgetValidator = [\n  param(\'budgetId\')\n    .notEmpty()\n    .withMessage(\'Budget ID is required\')\n    .isUUID()\n    .withMessage(\'Invalid budget ID format\'),\n  \n  body(\'budgetName\')\n    .optional()\n    .isLength({ max: 100 })\n    .withMessage(\'Budget name must be less than 100 characters\'),\n  \n  body(\'status\')\n    .optional()\n    .isIn([\'Draft\', \'Submitted\', \'Approved\', \'Active\', \'Rejected\', \'Closed\'])\n    .withMessage(\'Invalid status\')\n];\n\nconst getBudgetsValidator = [\n  query(\'financialYear\')\n    .optional()\n    .isLength({ max: 10 })\n    .withMessage(\'Financial year must be less than 10 characters\'),\n  \n  query(\'status\')\n    .optional()\n    .isIn([\'Draft\', \'Submitted\', \'Approved\', \'Active\', \'Rejected\', \'Closed\'])\n    .withMessage(\'Invalid status\'),\n  \n  query(\'department\')\n    .optional()\n    .isLength({ max: 50 })\n    .withMessage(\'Department must be less than 50 characters\'),\n  \n  query(\'page\')\n    .optional()\n    .isInt({ min: 1 })\n    .withMessage(\'Page must be a positive integer\'),\n  \n  query(\'limit\')\n    .optional()\n    .isInt({ min: 1, max: 100 })\n    .withMessage(\'Limit must be between 1 and 100\')\n];\n\nconst getBudgetByIdValidator = [\n  param(\'budgetId\')\n    .notEmpty()\n    .withMessage(\'Budget ID is required\')\n    .isUUID()\n    .withMessage(\'Invalid budget ID format\')\n];\n\nconst submitBudgetValidator = [\n  param(\'budgetId\')\n    .notEmpty()\n    .withMessage(\'Budget ID is required\')\n    .isUUID()\n    .withMessage(\'Invalid budget ID format\'),\n  \n  body(\'submittedBy\')\n    .notEmpty()\n    .withMessage(\'Submitted by is required\'),\n  \n  body(\'submittedDate\')\n    .notEmpty()\n    .withMessage(\'Submitted date is required\')\n    .isISO8601()\n    .withMessage(\'Invalid date format\')\n];\n\nconst approveBudgetVa...\n The full message content is stored at /workspace/summarized_conversations/original_conversation_1761748065_4996.txt'}