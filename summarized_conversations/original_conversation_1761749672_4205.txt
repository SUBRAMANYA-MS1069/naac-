{'role': 'assistant', 'content': '<function_calls>\n<create-file file_path="src/utils/validators/feeValidator.js">\nconst { body, query, param } = require(\'express-validator\');\n\nconst createFeeStructureValidator = [\n  body(\'structureName\')\n    .notEmpty()\n    .withMessage(\'Structure name is required\')\n    .isLength({ max: 100 })\n    .withMessage(\'Structure name must be less than 100 characters\'),\n  \n  body(\'academicYear\')\n    .notEmpty()\n    .withMessage(\'Academic year is required\')\n    .isLength({ max: 10 })\n    .withMessage(\'Academic year must be less than 10 characters\'),\n  \n  body(\'feeType\')\n    .notEmpty()\n    .withMessage(\'Fee type is required\')\n    .isIn([\'Tuition\', \'Admission\', \'Examination\', \'Library\', \'Laboratory\', \'Hostel\', \'Transport\', \'Other\'])\n    .withMessage(\'Invalid fee type\'),\n  \n  body(\'components\')\n    .isArray({ min: 1 })\n    .withMessage(\'At least one component is required\'),\n  \n  body(\'components.*.componentName\')\n    .notEmpty()\n    .withMessage(\'Component name is required\'),\n  \n  body(\'components.*.amount\')\n    .isNumeric()\n    .withMessage(\'Component amount must be a number\'),\n  \n  body(\'totalFee\')\n    .isNumeric()\n    .withMessage(\'Total fee must be a number\'),\n  \n  body(\'paymentSchedule\')\n    .isArray({ min: 1 })\n    .withMessage(\'At least one payment schedule is required\'),\n  \n  body(\'paymentSchedule.*.installmentNumber\')\n    .isInt({ min: 1 })\n    .withMessage(\'Installment number must be a positive integer\'),\n  \n  body(\'paymentSchedule.*.dueDate\')\n    .notEmpty()\n    .withMessage(\'Due date is required\')\n    .isISO8601()\n    .withMessage(\'Invalid date format\'),\n  \n  body(\'paymentSchedule.*.amount\')\n    .isNumeric()\n    .withMessage(\'Installment amount must be a number\'),\n  \n  body(\'effectiveFrom\')\n    .notEmpty()\n    .withMessage(\'Effective from date is required\')\n    .isISO8601()\n    .withMessage(\'Invalid date format\')\n];\n\nconst updateFeeStructureValidator = [\n  param(\'structureId\')\n    .notEmpty()\n    .withMessage(\'Structure ID is required\')\n    .isUUID()\n    .withMessage(\'Invalid structure ID format\'),\n  \n  body(\'structureName\')\n    .optional()\n    .isLength({ max: 100 })\n    .withMessage(\'Structure name must be less than 100 characters\'),\n  \n  body(\'isActive\')\n    .optional()\n    .isBoolean()\n    .withMessage(\'isActive must be a boolean value\')\n];\n\nconst getFeeStructuresValidator = [\n  query(\'academicYear\')\n    .optional()\n    .isLength({ max: 10 })\n    .withMessage(\'Academic year must be less than 10 characters\'),\n  \n  query(\'program\')\n    .optional()\n    .isLength({ max: 50 })\n    .withMessage(\'Program must be less than 50 characters\'),\n  \n  query(\'active\')\n    .optional()\n    .isBoolean()\n    .withMessage(\'Active must be a boolean value\'),\n  \n  query(\'page\')\n    .optional()\n    .isInt({ min: 1 })\n    .withMessage(\'Page must be a positive integer\'),\n  \n  query(\'limit\')\n    .optional()\n    .isInt({ min: 1, max: 100 })\n    .withMessage(\'Limit must be between 1 and 100\')\n];\n\nconst getFeeStructureByIdValidator = [\n  param(\'structureId\')\n    .notEmpty()\n    .withMessage(\'Structure ID is required\')\n    .isUUID()\n    .withMessage(\'Invalid structure ID format\')\n];\n\nconst generateFeeInvoiceValidator = [\n  body(\'studentId\')\n    .notEmpty()\n    .withMessage(\'Student ID is required\'),\n  \n  body(\'feeStructureId\')\n    .notEmpty()\n    .withMessage(\'Fee structure ID is required\'),\n  \n  body(\'academicYear\')\n    .notEmpty()\n    .withMessage(\'Academic year is required\')\n    .isLength({ max: 10 })\n    .withMessage(\'Academic year must be less than 10 characters\'),\n  \n  body(\'dueDate\')\n    .notEmpty()\n    .withMessage(\'Due date is required\')\n    .isISO8601()\n    .withMessage(\'Invalid date format\')\n];\n\nconst getStudentInvoicesValidator = [\n  param(\'studentId\')\n    .notEmpty()\n    .withMessage(\'Student ID is required\'),\n  \n  query(\'academicYear\')\n    .optional()\n    .isLength({ max: 10 })\n    .withMessage(\'Academic year must be less than 10 characters\'),\n  \n  query(\'status\')\n    .optional()\n    .isIn([\'Pending\', \'PartiallyPaid\', \'Paid\', \'Overdue\', \'Cancelled\'])\n    .withMessage(\'Invalid status\')\n];\n\nconst getInvoiceByIdValidator = [\n  param(\'inv...\n The full message content is stored at /workspace/summarized_conversations/original_conversation_1761749552_820.txt'}