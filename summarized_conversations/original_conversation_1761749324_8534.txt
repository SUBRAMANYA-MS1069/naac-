{'role': 'assistant', 'content': 'Let\'s create the budget monitoring controller:\n\n<function_calls>\n<create-file file_path="src/controllers/budget/budgetMonitoringController.js">\nconst budgetCalculationService = require(\'../../services/budget/budgetCalculationService\');\nconst budgetAlertService = require(\'../../services/budget/budgetAlertService\');\nconst { successResponse, errorResponse } = require(\'../../utils/helpers/responseHelper\');\n\n/**\n * Get budget vs actuals\n * @route GET /api/v1/finance/budgets/:budgetId/actuals\n * @access Private (Finance Manager, Auditor)\n */\nconst getBudgetVsActuals = async (req, res, next) => {\n  try {\n    const budgetVsActuals = await budgetCalculationService.calculateBudgetVsActuals(\n      req.params.budgetId,\n      req.tenantId\n    );\n    res.json(successResponse(budgetVsActuals, \'Budget vs actuals retrieved successfully\'));\n  } catch (error) {\n    next(error);\n  }\n};\n\n/**\n * Get quarterly budget utilization\n * @route GET /api/v1/finance/budgets/:budgetId/quarterly-utilization\n * @access Private (Finance Manager, Auditor)\n */\nconst getQuarterlyUtilization = async (req, res, next) => {\n  try {\n    const quarterlyUtilization = await budgetCalculationService.calculateQuarterlyUtilization(\n      req.params.budgetId,\n      req.tenantId\n    );\n    res.json(successResponse(quarterlyUtilization, \'Quarterly utilization retrieved successfully\'));\n  } catch (error) {\n    next(error);\n  }\n};\n\n/**\n * Get budget summary\n * @route GET /api/v1/finance/budgets/:budgetId/summary\n * @access Private (Finance Manager, Auditor)\n */\nconst getBudgetSummary = async (req, res, next) => {\n  try {\n    const summary = await budgetCalculationService.getBudgetSummary(\n      req.params.budgetId,\n      req.tenantId\n    );\n    res.json(successResponse(summary, \'Budget summary retrieved successfully\'));\n  } catch (error) {\n    next(error);\n  }\n};\n\n/**\n * Create budget alert\n * @route POST /api/v1/finance/budgets/:budgetId/alerts\n * @access Private (Finance Manager)\n */\nconst createBudgetAlert = async (req, res, next) => {\n  try {\n    const alert = await budgetAlertService.createBudgetAlert(req.body, req.tenantId);\n    res.status(201).json(successResponse(alert, \'Budget alert created successfully\', 201));\n  } catch (error) {\n    next(error);\n  }\n};\n\n/**\n * Get budget alerts\n * @route GET /api/v1/finance/budgets/:budgetId/alerts\n * @access Private (Finance Manager)\n */\nconst getBudgetAlerts = async (req, res, next) => {\n  try {\n    const alerts = await budgetAlertService.getBudgetAlerts(req.params.budgetId, req.tenantId);\n    res.json(successResponse(alerts, \'Budget alerts retrieved successfully\'));\n  } catch (error) {\n    next(error);\n  }\n};\n\n/**\n * Update budget alert\n * @route PUT /api/v1/finance/budgets/alerts/:alertId\n * @access Private (Finance Manager)\n */\nconst updateBudgetAlert = async (req, res, next) => {\n  try {\n    const alert = await budgetAlertService.updateBudgetAlert(\n      req.params.alertId,\n      req.body,\n      req.tenantId\n    );\n    res.json(successResponse(alert, \'Budget alert updated successfully\'));\n  } catch (error) {\n    next(error);\n  }\n};\n\n/**\n * Delete budget alert\n * @route DELETE /api/v1/finance/budgets/alerts/:alertId\n * @access Private (Finance Manager)\n */\nconst deleteBudgetAlert = async (req, res, next) => {\n  try {\n    const result = await budgetAlertService.deleteBudgetAlert(req.params.alertId, req.tenantId);\n    res.json(successResponse(result, \'Budget alert deleted successfully\'));\n  } catch (error) {\n    next(error);\n  }\n};\n\n/**\n * Check budget thresholds\n * @route POST /api/v1/finance/budgets/:budgetId/check-thresholds\n * @access Private (Finance Manager)\n */\nconst checkBudgetThresholds = async (req, res, next) => {\n  try {\n    const alerts = await budgetAlertService.checkBudgetThresholds(req.params.budgetId, req.tenantId);\n    res.json(successResponse(alerts, \'Budget thresholds checked successfully\'));\n  } catch (error) {\n    next(error);\n  }\n};\n\nmodule.exports = {\n  getBudgetVsActuals,\n  getQuarterlyUtilization,\n  getBudgetSummary,\n  createBudgetAlert,\n  getBudgetAlerts,\n  updateBudgetAlert,\n  deleteBudgetAlert,\n  ...\n The full message content is stored at /workspace/summarized_conversations/original_conversation_1761749215_6215.txt'}