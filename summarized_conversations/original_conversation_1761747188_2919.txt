{'role': 'assistant', 'content': 'Let\'s continue creating more services:\n\n<function_calls>\n<create-file file_path="src/services/expenditure/vendorService.js">\nconst Vendor = require(\'../../models/expenditure/Vendor\');\nconst { AppError } = require(\'../../utils/helpers/errorHelper\');\n\n/**\n * Create a new vendor\n * @param {Object} vendorData - Vendor data\n * @param {String} tenantId - Tenant ID\n * @returns {Object} Created vendor\n */\nconst createVendor = async (vendorData, tenantId) => {\n  try {\n    // Add tenantId to vendor data\n    vendorData.tenantId = tenantId;\n    \n    // Create vendor\n    const vendor = new Vendor(vendorData);\n    await vendor.save();\n    \n    return vendor;\n  } catch (error) {\n    if (error.code === 11000) {\n      throw new AppError(\'Vendor with this code already exists\', 409, \'DUPLICATE_VENDOR_CODE\');\n    }\n    throw error;\n  }\n};\n\n/**\n * Get vendors with filters\n * @param {Object} filters - Filter criteria\n * @param {Object} pagination - Pagination options\n * @param {String} tenantId - Tenant ID\n * @returns {Object} Vendors and pagination info\n */\nconst getVendors = async (filters, pagination, tenantId) => {\n  try {\n    const query = { tenantId, ...filters };\n    \n    // Handle active filter\n    if (filters.active !== undefined) {\n      query.isActive = filters.active;\n    }\n    \n    // Handle vendor type filter\n    if (filters.vendorType) {\n      query.vendorType = filters.vendorType;\n    }\n    \n    // Handle category filter\n    if (filters.category) {\n      query.category = filters.category;\n    }\n    \n    // Handle search\n    if (filters.search) {\n      query.$or = [\n        { vendorName: { $regex: filters.search, $options: \'i\' } },\n        { vendorCode: { $regex: filters.search, $options: \'i\' } }\n      ];\n    }\n    \n    const vendors = await Vendor.find(query)\n      .sort(pagination.sort || \'-createdAt\')\n      .skip(pagination.skip)\n      .limit(pagination.limit);\n    \n    const total = await Vendor.countDocuments(query);\n    \n    return {\n      vendors,\n      total,\n      page: pagination.page,\n      limit: pagination.limit\n    };\n  } catch (error) {\n    throw new AppError(\'Failed to fetch vendors\', 500, \'FETCH_VENDORS_ERROR\');\n  }\n};\n\n/**\n * Get vendor by ID\n * @param {String} vendorId - Vendor ID\n * @param {String} tenantId - Tenant ID\n * @returns {Object} Vendor\n */\nconst getVendorById = async (vendorId, tenantId) => {\n  try {\n    const vendor = await Vendor.findOne({ vendorId, tenantId });\n    \n    if (!vendor) {\n      throw new AppError(\'Vendor not found\', 404, \'VENDOR_NOT_FOUND\');\n    }\n    \n    return vendor;\n  } catch (error) {\n    if (error.name === \'CastError\') {\n      throw new AppError(\'Invalid vendor ID\', 400, \'INVALID_VENDOR_ID\');\n    }\n    throw error;\n  }\n};\n\n/**\n * Update vendor\n * @param {String} vendorId - Vendor ID\n * @param {Object} updateData - Update data\n * @param {String} tenantId - Tenant ID\n * @returns {Object} Updated vendor\n */\nconst updateVendor = async (vendorId, updateData, tenantId) => {\n  try {\n    const vendor = await Vendor.findOneAndUpdate(\n      { vendorId, tenantId },\n      updateData,\n      { new: true, runValidators: true }\n    );\n    \n    if (!vendor) {\n      throw new AppError(\'Vendor not found\', 404, \'VENDOR_NOT_FOUND\');\n    }\n    \n    return vendor;\n  } catch (error) {\n    if (error.name === \'CastError\') {\n      throw new AppError(\'Invalid vendor ID\', 400, \'INVALID_VENDOR_ID\');\n    }\n    throw error;\n  }\n};\n\n/**\n * Delete vendor (soft delete)\n * @param {String} vendorId - Vendor ID\n * @param {String} tenantId - Tenant ID\n * @returns {Object} Deletion result\n */\nconst deleteVendor = async (vendorId, tenantId) => {\n  try {\n    const vendor = await Vendor.findOneAndUpdate(\n      { vendorId, tenantId },\n      { isActive: false },\n      { new: true }\n    );\n    \n    if (!vendor) {\n      throw new AppError(\'Vendor not found\', 404, \'VENDOR_NOT_FOUND\');\n    }\n    \n    return {\n      message: \'Vendor deleted successfully\',\n      vendor\n    };\n  } catch (error) {\n    if (error.name === \'CastError\') {\n      throw new AppError(\'Invalid vendor ID\', 400, \'INVALID_VENDOR_ID\');\n    }\n    throw erro...\n The full message content is stored at /workspace/summarized_conversations/original_conversation_1761747117_9634.txt'}